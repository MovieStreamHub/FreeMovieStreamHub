<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FreeMovieStreamHub - Watch & Download Movies Free</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>FreeMovieStreamHub â€“ Unlimited Movies, Anytime, Anywhere!</header>

  <div class="search-bar">
    <input type="text" placeholder="Search for movies..." />
  </div>

  <div class="categories">
    <button>Action</button>
    <button>Comedy</button>
    <button>Horror</button>
    <button>Sci-Fi</button>
    <button>Drama</button>
  </div>

  <div class="movie-grid" id="movieGrid">
    <!-- Static Movie Card: Sikandar -->
    <div class="movie-card">
      <img src="https://i.ibb.co/TKMRMZ3/sikandar.jpg" alt="Sikandar">
      <h3>Sikandar</h3>
      <a href="https://example.com/download/sikandar" target="_blank">Download</a>
    </div>
  </div>

  <footer>Stream & Download Your Favorite Movies for Free. All Rights Reserved.</footer>

  <script>
    async function loadMovies() {
      try {
        const response = await fetch('https://7b1ac592-56f9-4365-b70b-4ae68b6b18aa-00-284284jimen0o.sisko.replit.dev/movies');
        const movies = await response.json();

        const container = document.getElementById('movieGrid');

        movies.forEach(movie => {
          const card = document.createElement('div');
          card.className = 'movie-card';
          card.innerHTML = `
            <img src="${movie.image}" alt="${movie.title}">
            <h3>${movie.title}</h3>
            <a href="${movie.link}" target="_blank">Download</a>
          `;
          container.appendChild(card);
        });
      } catch (err) {
        console.error('Failed to load movies:', err);
      }
    }

    loadMovies();
  </script>

  <script>
    const searchInput = document.querySelector('.search-bar input');
    searchInput.addEventListener('input', () => {
      const query = searchInput.value.toLowerCase();
      const movies = document.querySelectorAll('.movie-card');
      movies.forEach(movie => {
        const title = movie.querySelector('h3').textContent.toLowerCase();
        movie.style.display = title.includes(query) ? 'block' : 'none';
      });
    });

    const buttons = document.querySelectorAll('.categories button');
    buttons.forEach(button => {
      button.addEventListener('click', () => {
        const genre = button.textContent.toLowerCase();
        const movies = document.querySelectorAll('.movie-card');
        movies.forEach(movie => {
          const title = movie.querySelector('h3').textContent.toLowerCase();
          movie.style.display = title.includes(genre) ? 'block' : 'none';
        });
      });
    });
  </script>
</body>
</html>
